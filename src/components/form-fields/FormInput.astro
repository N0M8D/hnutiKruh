---
const {type = "text", label, name, placeholder = "", required, value = "", pattern, maxlength, min, max} = Astro.props;
const id = `field-${name}`;
---

<div class="form-field__container">
  {label && <label for={id} class="form-field__label">{label}{required && <span class="required">*</span>}</label>}
  <div class="form-field__input-wrapper">
    <input 
      type={type} 
      id={id}
      name={name} 
      placeholder={placeholder} 
      required={required} 
      value={value}
      class="form-field__input"
      {...(pattern && { pattern })}
      {...(maxlength && { maxlength })}
      {...(min && { min })}
      {...(max && { max })}
    />
  </div>
</div>

<style>
  input:valid {
  
}
  input:invalid {
  background-color: rgb(255, 197, 206);
}
  .form-field__container {
    position: relative;
    margin-bottom: 1.2rem; /* Reduced overall spacing between form fields */
  }

  .form-field__input-wrapper {
    position: relative;
  }

  .form-field__input {
    width: 100%;
    padding: 0.75rem 1rem;
    font-size: 1rem;
    border: 2px solid var(--form-field-border-color, #ccc);
    color: var(--form-field-input-color, #000000);
    border-radius: var(--form-field-border-radius, 0.25rem);
    background-color: var(--form-field-bg-color, #ffffff);
    outline: none;
    transition: border 0.2s ease;
  }

  .form-field__input:focus {
    border: 2px solid var(--form-field-border-focus-color, #000);
  }

  .form-field__label {
    display: block;
    margin-bottom: 0.2rem; /* Reduced space between label and input */
    font-size: 0.85rem;
    font-weight: 500;
    color: var(--form-field-label-color, #555);
    letter-spacing: 0.25px;
  }

  .required {
    color: var(--form-required-color, #e53935);
    margin-left: 0.25rem;
  }
</style>
